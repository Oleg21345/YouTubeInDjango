{% extends 'movies/base.html' %}
{% block title %}Notifications{% endblock %}

{% block content %}
<h1 class="mb-4">Notifications</h1>

{% if notifications %}
{% for notif in notifications %}
<div class="card mb-3 p-3
                {% if notif.id in newly_read_ids %}just-read{% endif %}
                {% if not notif.is_read %}border-primary{% endif %}">
    <div class="d-flex justify-content-between align-items-center">
        <div>
            {% if notif.from_user %}
            <a href="{% url 'profile' notif.from_user.autor.slug %}"
               class="me-2 {% if not notif.is_read %}fw-bold{% endif %}"
               style="color: black; font-weight: bold; text-decoration: none;">
                {{ notif.from_user.username }}
            </a>

            {% else %}
            <span class="{% if not notif.is_read %}fw-bold{% endif %} me-2">System</span>
            {% endif %}
            <span class="{% if not notif.is_read %}fw-bold{% endif %}">
            {{ notif.notificated }}
          </span>
        </div>
        <div class="text-muted small">
            {{ notif.create_at|date:"d M Y H:i" }}
        </div>
    </div>
</div>
{% endfor %}
{% else %}
<div class="alert alert-info">No notifications</div>
{% endif %}

<style>
    .just-read {
        border: 2px solid red !important;
        box-shadow: 0 0 10px rgba(255, 0, 0, 0.6);
    }
</style>
{% endblock %}
